import{j as e,T as R,W as $,B as b}from"./index-CR9WIwuk.js";import{C as a,a as n,b as l,c as r}from"./card-tDrr61lY.js";import{T as K,C as P}from"./trending-down-BEyMk25E.js";import{C as k,B as C,a as v,X as w,Y as D}from"./BarChart-Dm6T19Dr.js";import{R as m,C as L,T as j,L as A,B as M}from"./generateCategoricalChart-DOt2uQ_U.js";import{P as V,a as W}from"./PieChart-DNcE4gw7.js";function J({transactions:i,bankAccounts:x,incomes:I,fixedExpenses:g}){const o=I.reduce((s,t)=>s+t.amount,0),c=new Date().getMonth(),d=new Date().getFullYear(),p=i.filter(s=>{const t=new Date(s.date);return t.getMonth()===c&&t.getFullYear()===d&&s.type!=="income"}).reduce((s,t)=>s+t.amount,0),h=g.reduce((s,t)=>s+t.amount,0),S=x.filter(s=>s.type!=="Credit Card").reduce((s,t)=>s+t.balance,0),u=Math.abs(x.filter(s=>s.type==="Credit Card").reduce((s,t)=>s+t.balance,0)),B=o>0?((o-p-h)/o*100).toFixed(1):0,E=i.filter(s=>{const t=new Date(s.date);return t.getMonth()===c&&t.getFullYear()===d&&s.type!=="income"}).reduce((s,t)=>(s[t.category]=(s[t.category]||0)+t.amount,s),{}),f=Object.entries(E).map(([s,t])=>({name:s,value:t})),F=i.filter(s=>{const t=new Date(s.date);return t.getMonth()===c&&t.getFullYear()===d&&s.type!=="income"}).reduce((s,t)=>(s[t.paymentMode]=(s[t.paymentMode]||0)+t.amount,s),{}),O=Object.entries(F).map(([s,t])=>({name:s,value:t})),Y=i.filter(s=>{const t=new Date(s.date);return t.getMonth()===c&&t.getFullYear()===d&&s.type==="essential"}).reduce((s,t)=>s+t.amount,0),T=i.filter(s=>{const t=new Date(s.date);return t.getMonth()===c&&t.getFullYear()===d&&s.type==="other"}).reduce((s,t)=>s+t.amount,0),y=[{name:"Essential",value:Y},{name:"Other",value:T}],N=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#10b981","#06b6d4"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{children:"Total Income"}),e.jsx(R,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-green-600",children:["₹",o.toLocaleString("en-IN")]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Combined monthly income"})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{children:"Monthly Expenses"}),e.jsx(K,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-red-600",children:["₹",(p+h).toLocaleString("en-IN")]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Fixed + Variable"})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{children:"Bank Balance"}),e.jsx($,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-blue-600",children:["₹",S.toLocaleString("en-IN")]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Across ",x.filter(s=>s.type!=="Credit Card").length," accounts"]})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{children:"Savings Rate"}),e.jsx(b,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-purple-600",children:[B,"%"]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Of monthly income"})]})]})]}),u>0&&e.jsx(a,{className:"border-orange-200 bg-orange-50",children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(k,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-orange-900",children:"Credit Card Outstanding"}),e.jsxs("p",{className:"text-orange-700 mt-1",children:["You have ₹",u.toLocaleString("en-IN")," pending on credit cards. Pay before due date to avoid interest charges."]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(l,{children:"Essential vs Other Expenses"})}),e.jsx(r,{children:e.jsx(m,{width:"100%",height:250,children:e.jsxs(V,{children:[e.jsx(W,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,value:t})=>`${s}: ₹${t.toLocaleString("en-IN")}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:y.map((s,t)=>e.jsx(L,{fill:t===0?"#3b82f6":"#8b5cf6"},`cell-${t}`))}),e.jsx(j,{formatter:s=>`₹${s.toLocaleString("en-IN")}`}),e.jsx(A,{})]})})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(l,{children:"Payment Mode Distribution"})}),e.jsx(r,{children:e.jsx(m,{width:"100%",height:250,children:e.jsxs(C,{data:O,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(w,{dataKey:"name"}),e.jsx(D,{}),e.jsx(j,{formatter:s=>`₹${s.toLocaleString("en-IN")}`}),e.jsx(M,{dataKey:"value",fill:"#3b82f6"})]})})})]}),e.jsxs(a,{className:"lg:col-span-2",children:[e.jsx(n,{children:e.jsx(l,{children:"Category-wise Expenses"})}),e.jsx(r,{children:e.jsx(m,{width:"100%",height:300,children:e.jsxs(C,{data:f,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(w,{dataKey:"name"}),e.jsx(D,{}),e.jsx(j,{formatter:s=>`₹${s.toLocaleString("en-IN")}`}),e.jsx(M,{dataKey:"value",children:f.map((s,t)=>e.jsx(L,{fill:N[t%N.length]},`cell-${t}`))})]})})})]})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(l,{children:"Bank Accounts Overview"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.type==="Credit Card"?e.jsx(P,{className:"h-5 w-5 text-orange-600"}):e.jsx(b,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{children:s.name}),e.jsx("p",{className:"text-slate-600",children:s.type})]})]}),e.jsxs("div",{className:s.balance<0?"text-red-600":"text-green-600",children:["₹",Math.abs(s.balance).toLocaleString("en-IN"),s.balance<0&&" (Due)"]})]},s.id))})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(l,{children:["Fixed Monthly Expenses (₹",h.toLocaleString("en-IN"),")"]})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{children:s.name}),e.jsxs("p",{className:"text-slate-600",children:["Due: ",s.dueDate,"th of month"]})]}),e.jsxs("div",{className:"text-blue-600",children:["₹",s.amount.toLocaleString("en-IN")]})]},s.id))})})]})]})}export{J as Dashboard};
