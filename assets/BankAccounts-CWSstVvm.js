import{r as S,j as e,B as v,T as B}from"./index-CR9WIwuk.js";import{C as r,a as x,b as o,c as d}from"./card-tDrr61lY.js";import{D as U,a as F,B as h,P as O,b as M,c as P,d as k,e as z,L as j,I as f,T as E}from"./dialog-hQFxT1ze.js";import{S as H,a as $,b as q,c as K,d as C}from"./select-BV84HwTf.js";import{C as w,T as R}from"./trending-down-BEyMk25E.js";function X({bankAccounts:n,setBankAccounts:p,transactions:D}){const[A,g]=S.useState(!1),[t,m]=S.useState({type:"Savings"}),T=()=>{if(!t.name||!t.balance){alert("Please fill all required fields");return}const s={id:Date.now().toString(),name:t.name,balance:Number(t.balance),type:t.type,lastUpdated:new Date().toISOString()};p([...n,s]),m({type:"Savings"}),g(!1)},I=s=>{confirm("Are you sure you want to delete this account?")&&p(n.filter(a=>a.id!==s))},y=(s,a)=>{p(n.map(c=>c.id===s?{...c,balance:a,lastUpdated:new Date().toISOString()}:c))},L=s=>D.filter(a=>a.bankAccount===s),u=n.filter(s=>s.type!=="Credit Card").reduce((s,a)=>s+a.balance,0),N=Math.abs(n.filter(s=>s.type==="Credit Card").reduce((s,a)=>s+a.balance,0));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(r,{children:[e.jsx(x,{children:e.jsx(o,{children:"Total Bank Balance"})}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-green-600",children:["₹",u.toLocaleString("en-IN")]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Across ",n.filter(s=>s.type!=="Credit Card").length," accounts"]})]})]}),e.jsxs(r,{children:[e.jsx(x,{children:e.jsx(o,{children:"Credit Card Debt"})}),e.jsxs(d,{children:[e.jsxs("div",{className:"text-red-600",children:["₹",N.toLocaleString("en-IN")]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Outstanding on ",n.filter(s=>s.type==="Credit Card").length," cards"]})]})]}),e.jsxs(r,{children:[e.jsx(x,{children:e.jsx(o,{children:"Net Worth"})}),e.jsxs(d,{children:[e.jsxs("div",{className:u-N>=0?"text-green-600":"text-red-600",children:["₹",(u-N).toLocaleString("en-IN")]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Assets - Liabilities"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(U,{open:A,onOpenChange:g,children:[e.jsx(F,{asChild:!0,children:e.jsxs(h,{children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Add Bank Account"]})}),e.jsxs(M,{className:"max-w-md",children:[e.jsxs(P,{children:[e.jsx(k,{children:"Add New Bank Account"}),e.jsx(z,{children:"Add a new bank account to your financial dashboard."})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"accountName",children:"Account Name"}),e.jsx(f,{id:"accountName",placeholder:"e.g., HDFC Salary Account",value:t.name||"",onChange:s=>m({...t,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"accountType",children:"Account Type"}),e.jsxs(H,{value:t.type,onValueChange:s=>m({...t,type:s}),children:[e.jsx($,{children:e.jsx(q,{})}),e.jsxs(K,{children:[e.jsx(C,{value:"Savings",children:"Savings Account"}),e.jsx(C,{value:"Current",children:"Current Account"}),e.jsx(C,{value:"Credit Card",children:"Credit Card"})]})]})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"balance",children:t.type==="Credit Card"?"Outstanding Amount (-)":"Current Balance"}),e.jsx(f,{id:"balance",type:"number",placeholder:"0",value:t.balance||"",onChange:s=>m({...t,balance:Number(s.target.value)})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(h,{onClick:T,className:"flex-1",children:"Add Account"}),e.jsx(h,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"})]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(s=>{const a=L(s.name),c=a.reduce((l,i)=>l+i.amount,0);return e.jsxs(r,{children:[e.jsx(x,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.type==="Credit Card"?e.jsx(w,{className:"w-8 h-8 text-orange-600"}):e.jsx(v,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx(o,{children:s.name}),e.jsx("p",{className:"text-slate-600 mt-1",children:s.type})]})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>I(s.id),children:e.jsx(E,{className:"w-4 h-4 text-red-600"})})]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsx("p",{className:"text-slate-600 mb-2",children:"Current Balance"}),e.jsxs("div",{className:`text-3xl ${s.balance<0?"text-red-600":"text-green-600"}`,children:["₹",Math.abs(s.balance).toLocaleString("en-IN"),s.balance<0&&e.jsx("span",{className:"text-red-600",children:" (Due)"})]}),e.jsxs("p",{className:"text-slate-500 mt-2",children:["Last updated: ",new Date(s.lastUpdated).toLocaleDateString("en-IN")]})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:`update-${s.id}`,children:"Update Balance"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(f,{id:`update-${s.id}`,type:"number",placeholder:"New balance",onKeyDown:l=>{if(l.key==="Enter"){const i=l.target;y(s.id,Number(i.value)),i.value=""}}}),e.jsx(h,{size:"sm",onClick:l=>{var b;const i=(b=l.target.closest("div"))==null?void 0:b.querySelector("input");i&&(y(s.id,Number(i.value)),i.value="")},children:"Update"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-slate-600",children:"Transactions"}),e.jsx("p",{className:"text-blue-600",children:a.length})]}),e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsx("p",{className:"text-slate-600",children:"Total Spent"}),e.jsxs("p",{className:"text-red-600",children:["₹",c.toLocaleString("en-IN")]})]})]}),a.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Recent Transactions"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a.slice(0,5).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded text-sm",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-slate-900",children:l.description}),e.jsx("p",{className:"text-slate-600",children:new Date(l.date).toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"text-red-600",children:["-₹",l.amount.toLocaleString("en-IN")]})]},l.id))})]})]})]},s.id)})}),n.length===0&&e.jsx(r,{children:e.jsxs(d,{className:"py-12 text-center text-slate-500",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No bank accounts added yet. Add your first account to get started!"})]})}),e.jsxs(r,{children:[e.jsx(x,{children:e.jsx(o,{children:"Bank Account Management Tips"})}),e.jsx(d,{children:e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsx("span",{children:"Maintain a minimum balance in each account to avoid penalty charges"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsx("span",{children:"Pay credit card bills before due date to avoid interest (typically 36-48% p.a.)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsx("span",{children:"Keep emergency funds (3-6 months expenses) in a high-interest savings account"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-orange-600 mt-0.5"}),e.jsx("span",{children:"Limit credit card utilization to 30% of limit for better credit score"})]})]})})]})]})}export{X as BankAccounts};
