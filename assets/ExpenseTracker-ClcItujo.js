import{c as M,r as j,j as e}from"./index-CR9WIwuk.js";import{C as m,a as p,b as u,c as g}from"./card-tDrr61lY.js";import{D as O,a as U,B as y,P as V,b as H,c as B,d as _,L as i,I as b,T as q}from"./dialog-hQFxT1ze.js";import{S as d,a as c,b as o,c as h,d as l}from"./select-BV84HwTf.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],A=M("calendar",z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Y=M("funnel",R);function K({transactions:x,setTransactions:T,bankAccounts:k}){const[I,v]=j.useState(!1),[N,F]=j.useState("all"),[C,P]=j.useState("all"),[a,n]=j.useState({date:new Date().toISOString().split("T")[0],type:"essential",paymentMode:"UPI"}),w={essential:["Groceries","Rent","Utilities","Healthcare","Transport","Insurance"],other:["Entertainment","Dining Out","Shopping","Travel","Hobbies","Misc"]},E=()=>{if(!a.amount||!a.category||!a.description){alert("Please fill all required fields");return}const s={id:Date.now().toString(),date:a.date||new Date().toISOString().split("T")[0],amount:Number(a.amount),category:a.category,type:a.type,paymentMode:a.paymentMode,bankAccount:a.bankAccount,description:a.description};T([s,...x]),n({date:new Date().toISOString().split("T")[0],type:"essential",paymentMode:"UPI"}),v(!1)},L=s=>{T(x.filter(t=>t.id!==s))},D=x.filter(s=>!(N!=="all"&&s.type!==N||C!=="all"&&s.paymentMode!==C)),f=D.reduce((s,t)=>{const r=t.date;return s[r]||(s[r]=[]),s[r].push(t),s},{}),S=Object.keys(f).sort((s,t)=>new Date(t).getTime()-new Date(s).getTime());return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(p,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{children:"Daily Expense Tracker"}),e.jsxs(O,{open:I,onOpenChange:v,children:[e.jsx(U,{asChild:!0,children:e.jsxs(y,{children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Add Transaction"]})}),e.jsxs(H,{className:"max-w-md",children:[e.jsx(B,{children:e.jsx(_,{children:"Add New Transaction"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"date",children:"Date"}),e.jsx(b,{id:"date",type:"date",value:a.date,onChange:s=>n({...a,date:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",children:"Expense Type"}),e.jsxs(d,{value:a.type,onValueChange:s=>n({...a,type:s,category:void 0}),children:[e.jsx(c,{children:e.jsx(o,{})}),e.jsxs(h,{children:[e.jsx(l,{value:"essential",children:"Essential"}),e.jsx(l,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category",children:"Category"}),e.jsxs(d,{value:a.category,onValueChange:s=>n({...a,category:s}),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select category"})}),e.jsx(h,{children:(a.type==="essential"?w.essential:w.other).map(s=>e.jsx(l,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"amount",children:"Amount (₹)"}),e.jsx(b,{id:"amount",type:"number",placeholder:"0",value:a.amount||"",onChange:s=>n({...a,amount:Number(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"paymentMode",children:"Payment Mode"}),e.jsxs(d,{value:a.paymentMode,onValueChange:s=>n({...a,paymentMode:s}),children:[e.jsx(c,{children:e.jsx(o,{})}),e.jsxs(h,{children:[e.jsx(l,{value:"UPI",children:"UPI"}),e.jsx(l,{value:"CC",children:"Credit Card"}),e.jsx(l,{value:"Debit",children:"Debit Card"}),e.jsx(l,{value:"Cash",children:"Cash"})]})]})]}),a.paymentMode!=="Cash"&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"bankAccount",children:"Bank Account"}),e.jsxs(d,{value:a.bankAccount,onValueChange:s=>n({...a,bankAccount:s}),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select account"})}),e.jsx(h,{children:k.map(s=>e.jsx(l,{value:s.name,children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(b,{id:"description",placeholder:"What did you spend on?",value:a.description||"",onChange:s=>n({...a,description:s.target.value})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(y,{onClick:E,className:"flex-1",children:"Add Transaction"}),e.jsx(y,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})}),e.jsxs(g,{children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-slate-700",children:"Filters:"})]}),e.jsxs(d,{value:N,onValueChange:F,children:[e.jsx(c,{className:"w-[150px]",children:e.jsx(o,{})}),e.jsxs(h,{children:[e.jsx(l,{value:"all",children:"All Types"}),e.jsx(l,{value:"essential",children:"Essential"}),e.jsx(l,{value:"other",children:"Other"})]})]}),e.jsxs(d,{value:C,onValueChange:P,children:[e.jsx(c,{className:"w-[150px]",children:e.jsx(o,{})}),e.jsxs(h,{children:[e.jsx(l,{value:"all",children:"All Modes"}),e.jsx(l,{value:"UPI",children:"UPI"}),e.jsx(l,{value:"CC",children:"Credit Card"}),e.jsx(l,{value:"Debit",children:"Debit Card"}),e.jsx(l,{value:"Cash",children:"Cash"})]})]})]}),S.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No transactions yet. Add your first transaction to get started!"})]}):e.jsx("div",{className:"space-y-6",children:S.map(s=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(A,{className:"w-4 h-4 text-slate-600"}),e.jsx("h3",{className:"text-slate-900",children:new Date(s).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("span",{className:"text-slate-600",children:["(₹",f[s].reduce((t,r)=>t+r.amount,0).toLocaleString("en-IN"),")"]})]}),e.jsx("div",{className:"space-y-2",children:f[s].map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`px-2 py-1 rounded text-white ${t.type==="essential"?"bg-blue-500":"bg-purple-500"}`,children:t.type}),e.jsx("span",{className:"px-2 py-1 rounded bg-slate-200 text-slate-700",children:t.paymentMode}),e.jsx("span",{className:"text-slate-700",children:t.category})]}),e.jsx("p",{className:"text-slate-900",children:t.description}),t.bankAccount&&e.jsxs("p",{className:"text-slate-600",children:["Account: ",t.bankAccount]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-red-600",children:["-₹",t.amount.toLocaleString("en-IN")]}),e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>L(t.id),children:e.jsx(q,{className:"w-4 h-4 text-red-600"})})]})]},t.id))})]},s))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(u,{children:"Today's Expenses"})}),e.jsx(g,{children:e.jsxs("div",{className:"text-red-600",children:["₹",x.filter(s=>s.date===new Date().toISOString().split("T")[0]).reduce((s,t)=>s+t.amount,0).toLocaleString("en-IN")]})})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(u,{children:"This Month"})}),e.jsx(g,{children:e.jsxs("div",{className:"text-red-600",children:["₹",x.filter(s=>{const t=new Date(s.date),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).reduce((s,t)=>s+t.amount,0).toLocaleString("en-IN")]})})]}),e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(u,{children:"Total Transactions"})}),e.jsx(g,{children:e.jsx("div",{className:"text-blue-600",children:D.length})})]})]})]})}export{K as ExpenseTracker};
