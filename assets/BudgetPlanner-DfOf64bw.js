import{c as H,r as L,j as e,T as O}from"./index-CR9WIwuk.js";import{C as r,a as c,b as d,c as i}from"./card-tDrr61lY.js";import{D as R,a as U,B as g,P as Y,b as G,c as K,d as W,e as z,L as p,I as v,T as V}from"./dialog-hQFxT1ze.js";import{P as f}from"./progress-Bzjx-dRo.js";import{C as X,B as _,a as $,X as q,Y as J}from"./BarChart-Dm6T19Dr.js";import{R as Z,T as Q,B as ee}from"./generateCategoricalChart-DOt2uQ_U.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ae=H("circle-check-big",se);function de({incomes:F,fixedExpenses:l,setFixedExpenses:y,transactions:B}){const[M,N]=L.useState(!1),[n,j]=L.useState({}),A=()=>{if(!n.name||!n.amount||!n.dueDate||!n.category){alert("Please fill all required fields");return}const s={id:Date.now().toString(),name:n.name,amount:Number(n.amount),dueDate:Number(n.dueDate),category:n.category};y([...l,s]),j({}),N(!1)},E=s=>{y(l.filter(a=>a.id!==s))},t=F.reduce((s,a)=>s+a.amount,0),o=l.reduce((s,a)=>s+a.amount,0),T=new Date().getMonth(),k=new Date().getFullYear(),m=B.filter(s=>{const a=new Date(s.date);return a.getMonth()===T&&a.getFullYear()===k&&s.type!=="income"}).reduce((s,a)=>s+a.amount,0),b=o+m,h=t-b,u=t>0?h/t*100:0,P={Housing:l.filter(s=>s.category==="Housing").reduce((s,a)=>s+a.amount,0),Utilities:l.filter(s=>s.category==="Utilities").reduce((s,a)=>s+a.amount,0),Services:l.filter(s=>s.category==="Services").reduce((s,a)=>s+a.amount,0),Insurance:l.filter(s=>s.category==="Insurance").reduce((s,a)=>s+a.amount,0),"EMI/Loans":l.filter(s=>s.category==="EMI/Loans").reduce((s,a)=>s+a.amount,0),Other:l.filter(s=>s.category==="Other").reduce((s,a)=>s+a.amount,0)},w=[{name:"Income",value:t,fill:"#10b981"},{name:"Fixed",value:o,fill:"#3b82f6"},{name:"Variable",value:m,fill:"#f59e0b"},{name:"Savings",value:Math.max(0,h),fill:"#8b5cf6"}],I=t*.5,C=t*.3,D=t*.2;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(d,{children:"Total Income"})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-green-600",children:["₹",t.toLocaleString("en-IN")]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Monthly in-hand"})]})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(d,{children:"Fixed Expenses"})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-blue-600",children:["₹",o.toLocaleString("en-IN")]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[t>0?(o/t*100).toFixed(1):0,"% of income"]})]})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(d,{children:"Variable Expenses"})}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-orange-600",children:["₹",m.toLocaleString("en-IN")]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"This month"})]})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(d,{children:"Potential Savings"})}),e.jsxs(i,{children:[e.jsxs("div",{className:h>=0?"text-purple-600":"text-red-600",children:["₹",Math.abs(h).toLocaleString("en-IN")]}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[u.toFixed(1),"% savings rate"]})]})]})]}),u<20?e.jsx(r,{className:"border-orange-200 bg-orange-50",children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(X,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-orange-900",children:"Budget Alert"}),e.jsxs("p",{className:"text-orange-700 mt-1",children:["Your savings rate is ",u.toFixed(1),"%. Financial experts recommend saving at least 20% of income. Consider reducing variable expenses or increasing income sources."]})]})]})})}):e.jsx(r,{className:"border-green-200 bg-green-50",children:e.jsx(i,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-green-900",children:"Great Job!"}),e.jsxs("p",{className:"text-green-700 mt-1",children:["You're saving ",u.toFixed(1),"% of your income. Keep up the good work!"]})]})]})})}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(d,{children:"Budget Breakdown"})}),e.jsx(i,{children:e.jsx(Z,{width:"100%",height:300,children:e.jsxs(_,{data:w,children:[e.jsx($,{strokeDasharray:"3 3"}),e.jsx(q,{dataKey:"name"}),e.jsx(J,{}),e.jsx(Q,{formatter:s=>`₹${s.toLocaleString("en-IN")}`}),e.jsx(ee,{dataKey:"value",radius:[8,8,0,0],children:w.map((s,a)=>e.jsx("bar",{fill:s.fill},`bar-${a}`))})]})})})]}),e.jsxs(r,{children:[e.jsxs(c,{children:[e.jsx(d,{children:"50-30-20 Budget Rule Analysis"}),e.jsx("p",{className:"text-slate-600",children:"Compare your budget with the recommended 50-30-20 rule"})]}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Needs (50% recommended)"}),e.jsxs("span",{className:"text-blue-600",children:["₹",o.toLocaleString("en-IN")," / ₹",I.toLocaleString("en-IN")]})]}),e.jsx(f,{value:Math.min(o/I*100,100),className:"h-2"}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[t>0?(o/t*100).toFixed(1):0,"% of income"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Wants (30% recommended)"}),e.jsxs("span",{className:"text-orange-600",children:["₹",m.toLocaleString("en-IN")," / ₹",C.toLocaleString("en-IN")]})]}),e.jsx(f,{value:Math.min(m/C*100,100),className:"h-2"}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[t>0?(m/t*100).toFixed(1):0,"% of income"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Savings (20% recommended)"}),e.jsxs("span",{className:"text-purple-600",children:["₹",Math.max(0,h).toLocaleString("en-IN")," / ₹",D.toLocaleString("en-IN")]})]}),e.jsx(f,{value:Math.min(Math.max(0,h)/D*100,100),className:"h-2"}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[u.toFixed(1),"% of income"]})]})]})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{children:"Fixed Monthly Expenses"}),e.jsxs(R,{open:M,onOpenChange:N,children:[e.jsx(U,{asChild:!0,children:e.jsxs(g,{children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Add Fixed Expense"]})}),e.jsxs(G,{className:"max-w-md",children:[e.jsx(K,{children:e.jsx(W,{children:"Add Fixed Expense"})}),e.jsx(z,{children:"Add a new fixed expense to your budget."}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"expenseName",children:"Expense Name"}),e.jsx(v,{id:"expenseName",placeholder:"e.g., Rent, Electricity",value:n.name||"",onChange:s=>j({...n,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"category",children:"Category"}),e.jsxs("select",{id:"category",className:"w-full p-2 border rounded",value:n.category||"",onChange:s=>j({...n,category:s.target.value}),children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"Housing",children:"Housing"}),e.jsx("option",{value:"Utilities",children:"Utilities"}),e.jsx("option",{value:"Services",children:"Services"}),e.jsx("option",{value:"Insurance",children:"Insurance"}),e.jsx("option",{value:"EMI/Loans",children:"EMI/Loans"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"amount",children:"Amount (₹)"}),e.jsx(v,{id:"amount",type:"number",placeholder:"0",value:n.amount||"",onChange:s=>j({...n,amount:Number(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"dueDate",children:"Due Date (Day of Month)"}),e.jsx(v,{id:"dueDate",type:"number",min:"1",max:"31",placeholder:"1-31",value:n.dueDate||"",onChange:s=>j({...n,dueDate:Number(s.target.value)})})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(g,{onClick:A,className:"flex-1",children:"Add Expense"}),e.jsx(g,{variant:"outline",onClick:()=>N(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]})}),e.jsx(i,{children:l.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(O,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No fixed expenses added yet. Add your recurring monthly expenses!"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(P).map(([s,a])=>{const S=l.filter(x=>x.category===s);return S.length===0?null:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-slate-900 mb-3",children:[s," (₹",a.toLocaleString("en-IN"),")"]}),e.jsx("div",{className:"space-y-2",children:S.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-900",children:x.name}),e.jsxs("p",{className:"text-slate-600",children:["Due: ",x.dueDate,"th of every month"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-blue-600",children:["₹",x.amount.toLocaleString("en-IN")]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>E(x.id),children:e.jsx(V,{className:"w-4 h-4 text-red-600"})})]})]},x.id))})]},s)})})})]}),e.jsxs(r,{children:[e.jsx(c,{children:e.jsx(d,{children:"Budget Planning Tips for Bengaluru"})}),e.jsx(i,{children:e.jsxs("ul",{className:"space-y-2 text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Housing:"})," Rent in Bengaluru typically ranges from ₹15,000-40,000. Try to keep it under 30% of income."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Food & Groceries:"})," Budget ₹8,000-15,000 for dual-income household. Use Swiggy/Zomato smartly."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Transport:"})," Ola/Uber can cost ₹5,000-8,000/month. Consider own vehicle for cost savings."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Weekend Expenses:"})," Allocate ₹8,000-12,000 for dining out, movies, and entertainment."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Emergency Fund:"})," Build 6 months expenses (₹",(b*6).toLocaleString("en-IN"),") before aggressive investing."]})]})]})})]})]})}export{de as BudgetPlanner};
